---
// src/pages/thoughts/[...slug].astro

import { getCollection } from 'astro:content';
import BlogPostLayout from '../../layouts/BlogPostLayout.astro';

export async function getStaticPaths() {
  const thoughts = await getCollection('thoughts');

  return thoughts.map((thought) => ({

    params: { slug: thought.slug },
    props: thought,
  }));
}

const thought = Astro.props;

const { Content, headings } = await thought.render();
---

<BlogPostLayout
    title={thought.data.title}
    description={thought.data.description}
    pubDate={thought.data.pubDate}
    headings={headings}
    updates={thought.data.updates}
>
  <Content />
</BlogPostLayout>
